# データエンジニアカタパルト Phase01 課題

## 挑戦した課題

[✅] 初級
[] 上級

## 実装した内容

ツイートへのコメント機能及びコメントの削除・編集機能

## デプロイ先の URL または画面収録したファイル名

dec2023phase0137.mp4

## 使い方

①tweet 名をクリックして詳細画面に行くと、コメントを書くテキストエリアがあります。
※テキストエリアは必須フィールドになっています。

② コメントを入力して、「投稿」ボタンをクリックするとコメントが追加されます。
※投稿後は投稿したコメントがあるツイートの詳細画面に戻るようになっています。
※コメントは投稿が早い順に上から下に並びます。

③ 投稿したコメントの下にある削除ボタンを押すと、コメントが削除されます。
※削除後は削除したコメントがあるツイートの詳細画面に戻るようになっています。

④ 投稿したコメントの下にある編集ボタンを押すと、コメントの編集画面に行きます。

⑤ コメントを編集して「Update」ボタンを押すと、編集後のコメントに更新できます。
※編集後は編集したコメントがあるツイートの詳細画面に戻るようになっています。
※「Back」ボタンを押すと、何もせずに前の画面に戻ります。

⑥ ログインユーザのコメントのみ削除編集ができる仕様になっているので、他のユーザでログインして自分以外のコメントが削除編集できないことを確かめます。

## 工夫した点

① コメントの下部にコメントがいつ作成されたかを、
//<p class="text-sm text-gray-500">{{ $comment->created_at->diffForHumans() }}</p>
によって表示しました。
また、誰がそのコメントを書いたかを、
//<p class="text-sm text-gray-500">Comment by: {{ $comment->user->name }}</p>
によって表示しました。

②@if ($comment->created_at != $comment->updated_at)
//<p class="text-sm text-gray-500">(編集済み)</p>
@endif
を追加することによって、コメントが編集されると「(編集済み)」という文字が表示されるようにしました。

③ 削除編集ボタンの背景を白色にして、コメント欄を見やすくしました。(主観)

## 苦戦した点

やはり、コメントモデルと他のモデルとのリレーションの定義がなかなか理解しづらかったです。また、ルートの定義を忘れてエラーが出ることが多かったです。特に作業をはじめて最初の方は、コメントを入力して投稿ボタンを押すとエラーが出てきて、そのエラーを解決するたびにまた違うエラーが出てきてとても苦戦しました。
実は、元々は自分のフォロワーのみに公開できるツイートをする機能を実装しようとしたのですが、1 人のユーザに対して複数のフォロワーの情報を取得する方法が分からずに断念しました(笑)
しかし、この苦戦や断念もあってエラー処理も迅速に対応できるようになったし、コントローラや blade ファイルの操作を通じて、新機能を追加する際の一連の流れをしっかりとつかむことができて、得るものがとても多かったように感じます。資料やサイトを読んで勉強するのも大事ですが、やっぱり実際に laravel に触れて実践することが理解への一番の近道だなと思いました。
時間があればもう一度自分のフォロワーのみに公開できるツイートをする機能の実装に挑戦してみようと思います。
